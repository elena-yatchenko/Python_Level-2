"""
üìå –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: ‚Äú1-–π —á–µ—Ç–≤–µ—Ä–≥ –Ω–æ—è–±—Ä—è‚Äù, ‚Äú3-—è —Å—Ä–µ–¥–∞ –º–∞—è‚Äù –∏ —Ç.–ø.
üìå –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –µ–≥–æ –≤ –¥–∞—Ç—É –≤ —Ç–µ–∫—É—â–µ–º –≥–æ–¥—É.
üìå –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É.
"""
from datetime import datetime

import logging

logging.basicConfig(level=logging.INFO, filename="file.log", encoding="utf-8")
logger = logging.getLogger(__name__)

MONTHS = [
    "   ",
    "—è–Ω–≤",
    "—Ñ–µ–≤",
    "–º–∞—Ä",
    "–∞–ø—Ä",
    "–º–∞—è",
    "–∏—é–Ω",
    "–∏—é–ª",
    "–∞–≤–≥",
    "—Å–µ–Ω",
    "–æ–∫—Ç",
    "–Ω–æ—è",
    "–¥–µ–∫",
]
WEEKDAYS = ["–ø–æ–Ω", "–≤—Ç–æ", "—Å—Ä–µ", "—á–µ—Ç", "–ø—è—Ç", "—Å—É–±", "–≤–æ—Å"]


def transf_date(text: str):
    try:
        num, weekday, month = text.split()  # —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        num = int(num[0]) # num[0] - –±–µ—Ä–µ–º 1-–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ '1-–π'
        weekday = WEEKDAYS.index(weekday[:3]) # –Ω–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å (—á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ) –¥–Ω—è –Ω–µ–¥–µ–ª–∏ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ - 0, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ - 6)
        month = MONTHS.index(month[:3]) # –Ω–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å (—á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ) –º–µ—Å—è—Ü–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ MONTHS, –≥–¥–µ –ø–µ—Ä–≤—ã–π - –ø—Ä–æ–±–µ–ª, 
        # —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–µ —Å 0, –∞ —Å 1 —Å—á–µ—Ç –º–µ—Å—è—Ü–µ–≤ 
        count = 0 # –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏ –≤ –º–µ—Å—è—Ü–µ
    except ValueError as e:
        logger.error(f"–≤ —Ç–µ–∫—Å—Ç–µ {text} –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞")
        return None # return, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å, –∞ –Ω–µ –ª–æ–º–∞–ª–∞—Å—å. –î–∞–ª—å—à–µ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ –≤—ã—à–ª–∞ –æ—à–∏–±–∫–∞

    # –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –ø–æ –¥–∞—Ç–∞–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –º–µ—Å—è—Ü
    for day in range(1, 32):
        # –ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        date = datetime(day=day, month=month, year=datetime.now().year)
        if date.weekday() == weekday: # –∫–æ–≥–¥–∞ –≤ –º–µ—Å—è—Ü–µ –≤—Å—Ç—Ä–µ—á–∞–µ–º –∑–∞–¥–∞–Ω–Ω—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –¥–æ–±–∞–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
            count += 1
            if count == num:
                logger.info(f"–ü–æ–ª—É—á–∏–ª–∏ —Ç–µ–∫—Å—Ç {text}. –†–µ–∑—É–ª—å—Ç–∞—Ç - –¥–∞—Ç–∞ {date}")
                return date # –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–∏–∫–ª, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ–º –Ω—É–∂–Ω—ã–π –ø–æ—Ä—è–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –¥–Ω—è
    logger.error(f"–î–∞—Ç–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä {num}")


print(transf_date("1-–π —á–µ—Ç–≤–µ—Ä–≥ –Ω–æ—è–±—Ä—è"))
print(transf_date(" 7-—è —Å—Ä–µ–¥–∞ –º–∞—è"))
